import"./modulepreload-polyfill-B5Qt9EMX.js";const N="binV4",O="Openings",g="/LaundryV1/Branch/Today/V1/OnlyOrders/BillPrint",h={routePath:N,tableName:O,url:g};let b=async({inBodyData:t})=>{let e=t.inRowPk,a=localStorage.getItem("BranchName"),l=`${h.url}/${e}/${a}`;return await(await fetch(l)).json()};const P=()=>{let t=B({inGetKey:"OrderNumber"}),e=B({inGetKey:"BranchName"}),a={},l=t;return a.inRowPk=l,a.BranchName=e,a};let B=({inGetKey:t})=>{const e=window.location.search;return new URLSearchParams(e).get(t)},A=({inBillNumberid:t,inCustomerNameid:e,inMobileNumberid:a,inBookingDateid:l,inDeliveryDateid:m,inPaymentid:r,inGSTNoid:n,inBranchName:c,inStore:o})=>{p({inBillNumberid:t}),F({inCustomerNameid:e}),M({inMobileNumberid:a}),f({inBookingDateid:l}),$({inPaymentid:r}),G({inGSTNoid:n}),E({inBranchName:c}),k({inStore:o})},p=({inBillNumberid:t})=>{let a=document.getElementById("BillNumberid");a.innerHTML=t},F=({inCustomerNameid:t})=>{let a=document.getElementById("CustomerNameid");a.innerHTML=t},M=({inMobileNumberid:t})=>{let a=document.getElementById("MobileNumberid");a.innerHTML=t},G=({inGSTNoid:t})=>{let a=document.getElementById("GSTNoid");a.innerHTML=t},f=({inBookingDateid:t})=>{let a=document.getElementById("BookingDateid");a.innerHTML=`${new Date(t).toLocaleDateString("en-GB")} ${new Date(t).toLocaleTimeString()}`},$=({inPaymentid:t})=>{let a=document.getElementById("Paymentid");a.innerHTML=t},E=({inBranchName:t})=>{let a=document.getElementById("BranchNameId");a.innerHTML=t},k=({inStore:t})=>{let a=document.getElementById("StoreContactId");a.innerHTML=t},R=({inItemData:t,inAddOnsData:e})=>{let l=document.getElementById("ItemNamesBodyId");Object.entries(t).forEach(([r,n])=>{let c=n.AddOnArray.map(i=>`${i.AddOnService}`),o=n.AddOnArray.map(i=>i.AddOnRate).reduce((i,I)=>i+parseInt(I),0);const d=document.getElementById("TemplateForTableRowId").content.cloneNode(!0);let u=d.querySelectorAll("td");u[0].textContent=`${n.ItemName}@${parseInt(n.Rate)+o}@${c.toString()}`,u[1].textContent=n.Pcs,u[2].textContent=(parseInt(n.Rate)+o)*n.Pcs,u[3].textContent=w(new Date(n.DeliveryDateTime)),l.appendChild(d)})};function w(t){const e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getFullYear()).slice(-2);return`${e}/${a}/${l}`}let v=({inTotalPiecesid:t,inTotalPriceid:e,inDiscountAmountid:a,inNetPriceid:l,inRoundOffid:m,inCGSTid:r,inSGSTid:n,inCashAmount:c,inCardAmount:o,inUPIAmount:s})=>{let d=c+o+s;U({inTotalPiecesid:t}),x({inTotalPriceid:e}),q({inDiscountAmountid:a}),K({inRoundOffid:m}),J({invalue:r+n}),Q({inGrandTotalid:d})},U=({inTotalPiecesid:t})=>{let a=document.getElementById("TotalPiecesid");a.innerHTML=t},x=({inTotalPriceid:t})=>{let a=document.getElementById("TotalPriceid");a.innerHTML=t},q=({inDiscountAmountid:t})=>{let a=document.getElementById("DiscountAmountId");a.innerHTML=t},K=({inRoundOffid:t})=>{let a=document.getElementById("RoundOffid");a.innerHTML=t},J=({invalue:t})=>{let a=document.getElementById("CGSTid");a.innerHTML=t},Q=({inGrandTotalid:t})=>{let a=document.getElementById("GrandTotalid");a.innerHTML=t},Y=({CashAmount:t,CardAmount:e,UPIAmount:a})=>{let l=[];return t>0&&l.push("Cash"),e>0&&l.push("Card"),a>0&&l.push("UPI"),l.join(",")},z=({inFromFetch:t})=>{console.log(t);let e=t,a=e.pk,l=e.BranchMobile,m=e.CustomerData.CustomerName,r=e.CustomerData.CustomerMobile,n=e.OrderData.Currentdateandtime,c=e.CustomerData.GSTNumber,o=e.ItemsInOrder,s=e.AddOnData,d=Object.values(e.CheckOutData)[0].GstData.DiscountAmount,u=Object.values(e.CheckOutData)[0].GstData.CGST,i=Object.values(e.CheckOutData)[0].GstData.SGST,I=Object.values(e.CheckOutData)[0].RoundOff,j=Object.values(e.CheckOutData)[0].CashAmount,T=Object.values(e.CheckOutData)[0].CardAmount,H=Object.values(e.CheckOutData)[0].UPIAmount,L=0,V=0,D=Y({CashAmount:j,CardAmount:T,UPIAmount:H});Object.values(e.ItemsInOrder).forEach(y=>{L+=y.Total,V+=parseInt(y.Pcs)});let S=L-d,C=t.OrderData.BranchName;A({inBillNumberid:a,inCustomerNameid:m,inMobileNumberid:r,inBookingDateid:n,inPaymentid:D,inGSTNoid:c,inBranchName:C,inStore:l}),R({inItemData:o,inAddOnsData:Object.values(s)}),v({inTotalPiecesid:V,inTotalPriceid:L,inDiscountAmountid:d,inNetPriceid:S,inCGSTid:u,inSGSTid:i,inRoundOffid:I,inCashAmount:j,inCardAmount:T,inUPIAmount:H}),W()},W=()=>{let t=document.getElementById("LeftBillId").innerHTML,e=document.getElementById("RightBillId");e.innerHTML=t},X=async()=>{{let t=P(),e=await b({inBodyData:t});z({inFromFetch:e})}},Z=async()=>{await X()};const _=()=>{Z().then(()=>{window.print()})};_();
